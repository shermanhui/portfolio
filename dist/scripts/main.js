"use strict";var app=app||{};$(document).ready(function(){function e(){$("body").css("padding-top",$(".navbar-inverse").outerHeight(!0)+20+"px")}$(window).resize(e),$(document).ready(e),$(".disabled-link").hover(function(){$(this).find(".error").preventDefault()})});var template=function(e){return _.template($("#"+e).html())};app.Bus=_.extend({},Backbone.Events);var app=app||{};app.projectDetails=Backbone.Model.extend({urlRoot:"/profile.json",initialize:function(e){},defaults:{title:"No Title",dates:"Unknown",caption:"Unknown",description:"Placeholder",url:"",image:"",alt:"Placeholder-image"},validate:function(e){return e?void 0:"Missing Data!"}}),app.projectCollection=Backbone.Collection.extend({model:app.projectDetails,url:"/profile.json",initialize:function(){},parse:function(e){return e.projects}});var projects=new app.projectCollection;app.featuredCollection=Backbone.Collection.extend({url:"/profile.json",parse:function(e){return e.topProjects}});var featured=new app.featuredCollection,app=app||{};app.appView=Backbone.View.extend({el:".portfolio-body",aboutTemplate:template("about-template"),events:{"mouseover .thumbnail":"onHover","mouseout .thumbnail":"onLeave"},initialize:function(){this.listenTo(featured,"add",this.render)},onHover:function(e){var t=e.currentTarget||e.fromElement;$(t).find(".caption").fadeIn(250)},onLeave:function(e){var t=e.relatedTarget||e.toElement;$(t).find(".caption").fadeOut(250)},render:function(){return this.$el.html(this.aboutTemplate({collection:this.collection.toJSON()})),this}});var aboutView=new app.appView({collection:featured});app.projectItemView=Backbone.View.extend({className:"col-xs-6 col-sm-4 portfolio-item",projectTemplate:template("project-item-template"),initialize:function(e){this.bus=e.bus},events:{click:"showModal"},showModal:function(e){e.preventDefault(),this.bus.trigger("renderModal",this.model)},render:function(){return this.$el.html(this.projectTemplate(this.model.toJSON())),this}}),app.projectsView=Backbone.View.extend({el:".portfolio-body",initialize:function(e){this.listenTo(this.collection,"reset",this.render)},render:function(){var e=this;return e.collection.each(function(e){var t=$(".row"),o=new app.projectItemView({bus:app.Bus,model:e});t.append(o.render().$el)}),this}});var projectsView=new app.projectsView({collection:projects});app.portfolioView=Backbone.View.extend({el:".portfolio-body",portfolioTemplate:template("folio-template"),initialize:function(){},render:function(){return this.$el.html(this.portfolioTemplate()),this.$el.append('<div class="row"></div>'),this}});var portfolioView=new app.portfolioView;app.modalView=Backbone.View.extend({className:"modal fade",modalTemplate:template("modal-template"),initialize:function(e){this.bus=e.bus,this.bus.on("renderModal",this.renderModal,this)},attributes:{tabindex:"-1",role:"dialog"},renderModal:function(e){return this.model=e,this.$el.html(this.modalTemplate(this.model.toJSON())).modal(),this}});var modalView=new app.modalView({bus:app.Bus});app.resumeView=Backbone.View.extend({el:".portfolio-body",initialize:function(){},renderCharts:function(){$(".chart").easyPieChart({barColor:"#3498db",size:"150",lineWidth:"2",easing:"easeOutBounce"})},resumeTemplate:template("resume-template"),render:function(){return this.$el.html(this.resumeTemplate()),this.renderCharts(),this}});var resumeView=new app.resumeView;app.contactView=Backbone.View.extend({el:".portfolio-body",contactTemplate:template("contact-template"),render:function(){return this.$el.html(this.contactTemplate()),this}});var contactView=new app.contactView,app=app||{};app.Router=Backbone.Router.extend({initialize:function(){},routes:{"":"renderAbout",about:"renderAbout",portfolio:"renderPortfolio",resume:"renderResume",contact:"renderContact"},renderAbout:function(){featured.fetch(),aboutView.render()},renderPortfolio:function(){projects.fetch({reset:!0}),portfolioView.render()},renderResume:function(){resumeView.render()},renderContact:function(){contactView.render()}});var router=new app.Router;Backbone.history.start();